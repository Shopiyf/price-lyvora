<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Abonnements Lyvora - Maintenance & CRO Shopify</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      /* Brand-ish */
      --bg: #0b0c10;
      --bg2: #0f1218;
      --card: #121723;
      --card2: #101520;
      --border: #232a3a;
      --text: #ffffff;
      --muted: rgba(255,255,255,0.70);
      --muted2: rgba(255,255,255,0.55);

      --accent: #3c6e71;
      --accent2: #284b63;
      --accentHover: #5ea2a6;

      --danger: #ff6b6b;
      --ok: #6ee7b7;

      --radius-xl: 22px;
      --radius-md: 12px;
      --shadow: 0 20px 60px rgba(0,0,0,0.55);
      --shadow2: 0 14px 30px rgba(0,0,0,0.35);

      --container: 1180px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(60,110,113,0.20), transparent 55%),
        radial-gradient(900px 600px at 90% 0%, rgba(40,75,99,0.22), transparent 55%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
      color: var(--text);
      line-height: 1.55;
      padding-bottom: 70px;
    }

    a { color: inherit; }
    strong { color: #fff; font-weight: 700; }
    .container { max-width: var(--container); margin: 0 auto; padding: 0 18px; }
    .center { text-align: center; }
    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 7px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.03);
      color: var(--muted);
      font-size: 0.85rem;
    }
    .pill .dot {
      width: 6px; height: 6px; border-radius: 99px;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(60,110,113,0.15);
    }

    /* Header */
    header.hero {
      padding-top: 74px;
      padding-bottom: 28px;
    }
    .hero h1 {
      font-size: clamp(2.1rem, 4vw, 3.2rem);
      letter-spacing: -1px;
      margin-top: 14px;
      margin-bottom: 12px;
    }
    .hero p {
      max-width: 760px;
      margin: 0 auto;
      color: var(--muted);
      font-size: 1.05rem;
    }

    .hero-grid {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 18px;
      align-items: center;
      margin-top: 26px;
    }
    .hero-card {
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(18,23,35,0.72);
      border-radius: var(--radius-xl);
      padding: 18px;
      box-shadow: var(--shadow2);
      backdrop-filter: blur(8px);
    }
    .hero-card h3 {
      font-size: 1.05rem;
      margin-bottom: 8px;
      color: rgba(255,255,255,0.92);
      font-weight: 650;
    }
    .hero-card ul { list-style: none; display: grid; gap: 10px; margin-top: 10px; }
    .hero-card li { color: var(--muted); font-size: 0.95rem; display: flex; gap: 10px; align-items: flex-start; }
    .mini-check {
      width: 18px; height: 18px; flex: 0 0 18px;
      margin-top: 2px;
      fill: var(--ok);
      opacity: 0.95;
    }

    /* Billing switch */
    .billing {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 14px;
      margin: 26px auto 6px auto;
      width: fit-content;
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.03);
      backdrop-filter: blur(8px);
    }
    .billing .label {
      font-weight: 600;
      font-size: 0.95rem;
      color: var(--muted2);
      cursor: pointer;
      transition: color 0.2s ease;
      user-select: none;
    }
    .billing .label.active { color: rgba(255,255,255,0.95); }
    .save {
      margin-left: 4px;
      background: rgba(60,110,113,0.18);
      color: rgba(168,244,248,0.95);
      border: 1px solid rgba(60,110,113,0.30);
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 700;
    }

    .switch { position: relative; display: inline-block; width: 54px; height: 30px; }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider {
      position: absolute; inset: 0;
      background: rgba(255,255,255,0.14);
      transition: .25s;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
    }
    .slider:before {
      content: "";
      position: absolute;
      height: 22px; width: 22px;
      left: 4px; top: 50%;
      transform: translateY(-50%);
      background: rgba(255,255,255,0.92);
      transition: .25s;
      border-radius: 50%;
      box-shadow: 0 8px 16px rgba(0,0,0,0.35);
    }
    input:checked + .slider {
      background: rgba(60,110,113,0.55);
      border-color: rgba(60,110,113,0.65);
    }
    input:checked + .slider:before { transform: translate(24px, -50%); }

    .billing-info {
      text-align: center;
      margin-top: 10px;
      color: rgba(168,244,248,0.92);
      font-size: 0.92rem;
      min-height: 20px;
    }

    /* Pricing grid */
    main { padding-top: 28px; }
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 22px;
      align-items: stretch;
      margin-top: 24px;
      margin-bottom: 54px;
    }

    .card {
      border: 1px solid rgba(255,255,255,0.12);
      background: linear-gradient(180deg, rgba(18,23,35,0.92) 0%, rgba(16,21,32,0.92) 100%);
      border-radius: var(--radius-xl);
      padding: 26px 22px;
      box-shadow: var(--shadow2);
      position: relative;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      transition: transform .2s ease, border-color .2s ease;
    }
    .card:hover { transform: translateY(-4px); border-color: rgba(255,255,255,0.18); }

    .card.featured {
      border-color: rgba(60,110,113,0.65);
      box-shadow: var(--shadow);
      background:
        radial-gradient(600px 260px at 20% 0%, rgba(60,110,113,0.22), transparent 60%),
        radial-gradient(600px 260px at 80% 0%, rgba(40,75,99,0.22), transparent 60%),
        linear-gradient(180deg, rgba(18,23,35,0.92) 0%, rgba(16,21,32,0.92) 100%);
    }
    .tag {
      position: absolute;
      top: 16px; right: 16px;
      font-size: 0.78rem;
      font-weight: 800;
      padding: 6px 10px;
      border-radius: 999px;
      letter-spacing: 0.3px;
      background: rgba(60,110,113,0.18);
      border: 1px solid rgba(60,110,113,0.35);
      color: rgba(168,244,248,0.98);
    }
    .limited {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 0.78rem;
      font-weight: 750;
      margin-top: 10px;
      color: rgba(255,255,255,0.85);
    }
    .limited b {
      background: rgba(255,107,107,0.12);
      color: rgba(255,107,107,0.95);
      border: 1px solid rgba(255,107,107,0.28);
      padding: 4px 8px;
      border-radius: 8px;
      font-weight: 800;
    }

    .title-row { display: flex; justify-content: space-between; align-items: baseline; gap: 10px; }
    .plan-name { font-size: 1.45rem; font-weight: 800; letter-spacing: -0.5px; }
    .plan-desc { color: var(--muted); margin-top: 8px; font-size: 0.98rem; min-height: 44px; }

    .price {
      display: flex;
      align-items: baseline;
      gap: 10px;
      margin-top: 18px;
    }
    .price .value {
      font-size: 2.9rem;
      font-weight: 850;
      letter-spacing: -1px;
    }
    .card.featured .price .value { color: rgba(168,244,248,0.98); }
    .price .period { color: var(--muted2); font-size: 1.05rem; }
    .equiv {
      margin-top: 6px;
      color: rgba(255,255,255,0.65);
      font-size: 0.9rem;
      min-height: 18px;
    }

    .list {
      list-style: none;
      display: grid;
      gap: 12px;
      margin-top: 20px;
      margin-bottom: 18px;
      flex: 1;
    }
    .list li {
      display: flex;
      gap: 12px;
      align-items: flex-start;
      color: rgba(255,255,255,0.86);
      font-size: 0.95rem;
    }
    .check {
      width: 18px; height: 18px; flex: 0 0 18px;
      fill: rgba(168,244,248,0.95);
      margin-top: 2px;
      opacity: 0.95;
    }
    .sub {
      display: block;
      color: rgba(255,255,255,0.62);
      font-size: 0.82rem;
      margin-top: 2px;
    }

    details {
      margin-top: 10px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.02);
      border-radius: 14px;
      padding: 12px 12px;
    }
    summary {
      cursor: pointer;
      list-style: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      font-weight: 700;
      color: rgba(255,255,255,0.92);
      font-size: 0.95rem;
      user-select: none;
    }
    summary::-webkit-details-marker { display: none; }
    .caret {
      width: 16px; height: 16px;
      fill: rgba(255,255,255,0.70);
      transition: transform .2s ease;
    }
    details[open] .caret { transform: rotate(180deg); }
    .details-body {
      margin-top: 10px;
      color: rgba(255,255,255,0.70);
      font-size: 0.92rem;
      display: grid;
      gap: 8px;
    }
    .kpi {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 10px;
    }
    .kpi .box {
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.18);
      border-radius: 14px;
      padding: 10px;
    }
    .kpi .box b { display: block; font-size: 0.9rem; color: rgba(255,255,255,0.90); }
    .kpi .box span { display: block; margin-top: 3px; color: rgba(255,255,255,0.65); font-size: 0.85rem; }

    /* Buttons */
    .btn {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      padding: 14px 14px;
      border-radius: 14px;
      text-decoration: none;
      font-weight: 800;
      letter-spacing: 0.1px;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      border: 1px solid rgba(255,255,255,0.14);
      cursor: pointer;
      font-size: 1rem;
      user-select: none;
    }
    .btn:active { transform: translateY(1px); }
    .btn.primary {
      background: linear-gradient(180deg, rgba(60,110,113,0.95) 0%, rgba(40,75,99,0.95) 100%);
      border-color: rgba(60,110,113,0.65);
      color: rgba(255,255,255,0.96);
    }
    .btn.primary:hover { background: linear-gradient(180deg, rgba(94,162,166,0.96) 0%, rgba(40,75,99,0.96) 100%); }
    .btn.outline {
      background: rgba(255,255,255,0.02);
      color: rgba(255,255,255,0.92);
    }
    .btn.outline:hover {
      border-color: rgba(60,110,113,0.55);
      background: rgba(60,110,113,0.10);
    }

    .reassure {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 10px;
      color: rgba(255,255,255,0.58);
      font-size: 0.78rem;
      align-items: center;
    }
    .reassure .sep {
      width: 4px; height: 4px; border-radius: 99px;
      background: rgba(255,255,255,0.20);
    }

    /* Sections */
    section.section {
      margin-top: 52px;
      border-top: 1px solid rgba(255,255,255,0.10);
      padding-top: 46px;
    }
    .section h2 {
      font-size: 1.7rem;
      letter-spacing: -0.5px;
      margin-bottom: 10px;
    }
    .section p.lead { color: var(--muted); max-width: 820px; }

    .two-col {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
      margin-top: 18px;
    }
    .panel {
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(18,23,35,0.70);
      border-radius: var(--radius-xl);
      padding: 18px;
      box-shadow: var(--shadow2);
    }
    .panel h3 { font-size: 1.05rem; margin-bottom: 10px; }
    .panel ul { list-style: none; display: grid; gap: 10px; }
    .panel li { color: rgba(255,255,255,0.78); font-size: 0.95rem; display: flex; gap: 10px; align-items: flex-start; }
    .panel li .badge {
      flex: 0 0 auto;
      font-size: 0.78rem;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      color: rgba(255,255,255,0.75);
      background: rgba(255,255,255,0.03);
      margin-top: 1px;
    }

    .timeline {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      margin-top: 16px;
    }
    .step {
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.02);
      border-radius: 18px;
      padding: 14px;
    }
    .step b { display: block; font-size: 0.95rem; }
    .step span { display: block; margin-top: 6px; color: rgba(255,255,255,0.65); font-size: 0.88rem; }

    /* Packs */
    .packs {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 16px;
    }
    .pack {
      min-width: 200px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(18,23,35,0.55);
      border-radius: 18px;
      padding: 14px;
    }
    .pack b { display: block; }
    .pack .price { margin-top: 6px; }
    .pack .price .value { font-size: 1.55rem; }
    .pack .price .period { font-size: 0.95rem; }

    /* FAQ */
    .faq {
      display: grid;
      gap: 12px;
      margin-top: 16px;
    }
    .faq details { padding: 14px; }
    .faq summary { font-size: 1rem; }

    /* Contact */
    .contact {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
      margin-top: 16px;
    }
    .form {
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(18,23,35,0.70);
      border-radius: var(--radius-xl);
      padding: 18px;
      box-shadow: var(--shadow2);
    }
    .field { display: grid; gap: 6px; margin-top: 12px; }
    label { font-weight: 700; font-size: 0.9rem; color: rgba(255,255,255,0.88); }
    input, select, textarea {
      width: 100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.22);
      color: rgba(255,255,255,0.92);
      outline: none;
      font-family: inherit;
      font-size: 0.95rem;
    }
    textarea { min-height: 120px; resize: vertical; }
    input:focus, select:focus, textarea:focus { border-color: rgba(60,110,113,0.60); box-shadow: 0 0 0 4px rgba(60,110,113,0.12); }

    .note {
      margin-top: 10px;
      color: rgba(255,255,255,0.62);
      font-size: 0.86rem;
    }
    .contact-card {
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.02);
      border-radius: var(--radius-xl);
      padding: 18px;
    }
    .contact-card h3 { margin-bottom: 10px; }
    .contact-card p { color: rgba(255,255,255,0.72); }
    .contact-card .lines { margin-top: 12px; display: grid; gap: 10px; }
    .line {
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.16);
      border-radius: 16px;
      padding: 12px;
      color: rgba(255,255,255,0.78);
      font-size: 0.95rem;
    }
    .line b { color: rgba(255,255,255,0.95); }
    .line a { color: rgba(168,244,248,0.95); text-decoration: none; }
    .line a:hover { text-decoration: underline; }

    /* Footer legal links */
    footer.footer {
      margin-top: 40px;
      padding-top: 28px;
      border-top: 1px solid rgba(255,255,255,0.10);
      text-align: center;
      color: rgba(255,255,255,0.62);
      font-size: 0.9rem;
    }
    .legal-links {
      display: flex;
      justify-content: center;
      gap: 12px;
      align-items: center;
      margin-top: 14px;
      flex-wrap: wrap;
    }
    .legal-links a {
      color: rgba(255,255,255,0.70);
      text-decoration: none;
      border-bottom: 1px dashed rgba(255,255,255,0.25);
    }
    .legal-links a:hover { color: rgba(168,244,248,0.95); border-bottom-color: rgba(168,244,248,0.65); }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: rgba(0,0,0,0.78);
      backdrop-filter: blur(6px);
      padding: 24px;
    }
    .modal[aria-hidden="false"] { display: block; }
    .modal-content {
      max-width: 920px;
      margin: 0 auto;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(18,23,35,0.96);
      border-radius: var(--radius-xl);
      padding: 22px;
      box-shadow: var(--shadow);
      position: relative;
      max-height: calc(100vh - 48px);
      overflow: auto;
    }
    .modal-content h2 { margin-bottom: 10px; }
    .modal-content h3 { margin-top: 16px; margin-bottom: 8px; }
    .modal-content p, .modal-content li { color: rgba(255,255,255,0.70); font-size: 0.95rem; }
    .modal-close {
      position: absolute;
      top: 12px; right: 12px;
      width: 40px; height: 40px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.20);
      color: rgba(255,255,255,0.92);
      cursor: pointer;
      font-size: 20px;
      display: inline-flex;
      justify-content: center;
      align-items: center;
    }
    .modal-close:hover { border-color: rgba(60,110,113,0.60); background: rgba(60,110,113,0.12); }
    .callout {
      margin-top: 14px;
      border-left: 3px solid rgba(168,244,248,0.85);
      background: rgba(60,110,113,0.10);
      border-radius: 14px;
      padding: 12px;
      color: rgba(255,255,255,0.75);
      font-size: 0.92rem;
    }

    /* Responsive */
    @media (max-width: 980px) {
      .hero-grid { grid-template-columns: 1fr; }
      .grid { grid-template-columns: 1fr; }
      .two-col { grid-template-columns: 1fr; }
      .timeline { grid-template-columns: 1fr; }
      .contact { grid-template-columns: 1fr; }
    }

    @media (prefers-reduced-motion: reduce) {
      * { transition: none !important; scroll-behavior: auto !important; }
    }
  </style>
</head>

<body>
  <div class="container">

    <header class="hero center">
      <span class="pill"><span class="dot"></span> Abonnements Shopify pour petites marques: stabilité, vitesse, conversion</span>
      <h1>Abonnements Lyvora</h1>
      <p>
        Faites évoluer votre boutique sans gérer la technique.
        Un process simple: demandes centralisées, sprints mensuels, reporting, et priorités claires.
      </p>

      <div class="billing" aria-label="Choix de facturation">
        <span class="label active" id="label-monthly" tabindex="0" role="button" aria-pressed="true">Mensuel</span>
        <label class="switch" aria-label="Basculer en facturation annuelle">
          <input type="checkbox" id="billing-toggle" />
          <span class="slider"></span>
        </label>
        <span class="label" id="label-annual" tabindex="0" role="button" aria-pressed="false">Annuel</span>
        <span class="save">2 mois offerts</span>
      </div>
      <div class="billing-info" id="billing-info">Facturation mensuelle, résiliable fin de période</div>

      <div class="hero-grid">
        <div class="hero-card">
          <h3>Ce que tu obtiens chaque mois</h3>
          <ul>
            <li>
              <svg class="mini-check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Un cadre clair</strong> pour éviter les surprises (définitions, complexité, priorités).</div>
            </li>
            <li>
              <svg class="mini-check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Des actions concrètes</strong> (CRO, confiance, contenu, correctifs) au rythme adapté à ton plan.</div>
            </li>
            <li>
              <svg class="mini-check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Un suivi</strong> simple: mini reporting, backlog, et call (Growth/Scale).</div>
            </li>
          </ul>
        </div>

        <div class="hero-card">
          <h3>Règles importantes</h3>
          <ul>
            <li>
              <svg class="mini-check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>SLA</strong>: jours ouvrés, 9h-18h (heure de Paris).</div>
            </li>
            <li>
              <svg class="mini-check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Demandes</strong>: via formulaire unique, regroupées pour efficacité.</div>
            </li>
            <li>
              <svg class="mini-check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Hors périmètre</strong>: dev lourd, pages complexes, conflits apps -> packs d'heures.</div>
            </li>
          </ul>
        </div>
      </div>
    </header>

    <main>
      <div class="grid">

        <!-- Essential -->
        <article class="card" aria-label="Plan Essential">
          <div class="title-row">
            <div class="plan-name">Essential</div>
          </div>
          <p class="plan-desc">Pour garder une boutique propre, stable et à jour. Idéal en maintenance.</p>

          <div class="price">
            <div class="value" data-monthly="99" data-annual="990">99€</div>
            <div class="period">/mois</div>
          </div>
          <div class="equiv" data-equivalent></div>

          <ul class="list">
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Correctifs bugs thème</strong><span class="sub">Affichage, responsive, sections existantes (hors conflits apps)</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>3 modifications simples</strong><span class="sub">Texte, image, réglage léger (10-15 min max chacune)</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Check mensuel</strong><span class="sub">Rapide: performance, erreurs visibles, points bloquants</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>SLA</strong><span class="sub">Réponse sous 48h (jours ouvrés)</span></div>
            </li>
          </ul>

          <details>
            <summary>
              Détail du périmètre (Important)
              <svg class="caret" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
            </summary>
            <div class="details-body">
              <div><strong>Bug thème</strong> = bug reproduisible lié au code du thème ou aux réglages. Les conflits d'applications tierces sont hors périmètre.</div>
              <div><strong>Modification simple</strong> = pas de nouvelle section complexe, pas de logique custom, pas de refonte complète d'une page.</div>
              <div>Si une demande dépasse le cadre: proposition pack d'heures.</div>
            </div>
          </details>

          <a class="btn outline" href="#contact" data-plan="Essential">Démarrer Essential</a>
          <div class="reassure"><span>Sans engagement</span><span class="sep"></span><span>Démarrage rapide</span></div>
        </article>

        <!-- Growth -->
        <article class="card featured" aria-label="Plan Growth">
          <div class="tag">Recommandé</div>
          <div class="title-row">
            <div class="plan-name">Growth</div>
          </div>
          <p class="plan-desc">Pour augmenter le CA: un sprint conversion mensuel + renforcement confiance.</p>

          <div class="price">
            <div class="value" data-monthly="249" data-annual="2490">249€</div>
            <div class="period">/mois</div>
          </div>
          <div class="equiv" data-equivalent></div>

          <ul class="list">
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>10 crédits/mois</strong><span class="sub">Un système simple pour cadrer l'effort et livrer vite</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>1 Sprint CRO</strong><span class="sub">1 zone du site/mois (PDP ou panier ou home)</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Bloc confiance</strong><span class="sub">Avis, FAQ, badges, réassurance livraison/retours</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Mini reporting + call</strong><span class="sub">20 min/mois, backlog et priorités</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>SLA</strong><span class="sub">Réponse sous 24h (jours ouvrés)</span></div>
            </li>
          </ul>

          <details>
            <summary>
              Comment fonctionnent les crédits ?
              <svg class="caret" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
            </summary>
            <div class="details-body">
              <div><strong>1 crédit</strong> = modification simple (10-15 min): texte, image, réglage.</div>
              <div><strong>3 crédits</strong> = bloc confiance: avis, badges, FAQ simple, trust bar.</div>
              <div><strong>6 crédits</strong> = sprint CRO: 1 zone du site + 1 itération d'ajustement.</div>
              <div>Les crédits non utilisés ne sont pas reportés (tu peux garder cette règle ou l'ajuster).</div>

              <div class="kpi">
                <div class="box"><b>Exemples sprint CRO</b><span>sticky add-to-cart, simplification panier, upsell léger, optimisation PDP</span></div>
                <div class="box"><b>Exemples confiance</b><span>avis + badges, FAQ retours, livraison, paiement, garanties</span></div>
              </div>
            </div>
          </details>

          <a class="btn primary" href="#contact" data-plan="Growth">Démarrer Growth</a>
          <div class="reassure"><span>Résiliation fin de période</span><span class="sep"></span><span>Actions concrètes</span></div>
        </article>

        <!-- Scale -->
        <article class="card" aria-label="Plan Scale">
          <div class="title-row">
            <div class="plan-name">Scale</div>
          </div>
          <p class="plan-desc">Pour marques actives (drops, soldes) qui veulent la priorité et un rythme fort.</p>

          <div class="limited"><b>Max 5 marques</b> pour garantir la priorité et la cadence</div>

          <div class="price">
            <div class="value" data-monthly="449" data-annual="4490">449€</div>
            <div class="period">/mois</div>
          </div>
          <div class="equiv" data-equivalent></div>

          <ul class="list">
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>22 crédits/mois</strong><span class="sub">Cadence plus élevée et priorisation stricte</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>2 Sprints CRO</strong><span class="sub">2 zones/mois ou 1 zone + itérations</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Kit lancement</strong><span class="sub">Landing simple (1 objectif) OU pack bannières (formats définis)</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Reporting + call</strong><span class="sub">40 min/mois, roadmap et priorités</span></div>
            </li>
            <li>
              <svg class="check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17 4.83 12 3.41 13.41 9 19 21 7 19.59 5.59z"/></svg>
              <div><strong>Priorité</strong><span class="sub">Réponse sous 12h (jours ouvrés)</span></div>
            </li>
          </ul>

          <details>
            <summary>
              Définition "Kit lancement"
              <svg class="caret" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
            </summary>
            <div class="details-body">
              <div><strong>Landing simple</strong> = 1 page, 1 objectif, sections standard (hero, USP, preuves, FAQ, CTA), sans dev custom lourd.</div>
              <div><strong>Pack bannières</strong> = 5 visuels (ex: home hero, collection, PDP, email, story) avec tailles à définir.</div>
              <div>Si tu demandes une refonte complète ou une fonctionnalité avancée: pack d'heures.</div>
            </div>
          </details>

          <a class="btn outline" href="#contact" data-plan="Scale">Candidater Scale</a>
          <div class="reassure"><span>Places limitées</span><span class="sep"></span><span>Roadmap claire</span></div>
        </article>

      </div>

      <!-- Scope + Process -->
      <section class="section" id="scope">
        <h2>Définitions (pour éviter les malentendus)</h2>
        <p class="lead">
          La promesse est simple: tu payes un abonnement, tu reçois des actions chaque mois, dans un cadre clair.
          Ce cadre te protège (toi) et me protège (moi), donc on avance vite.
        </p>

        <div class="two-col">
          <div class="panel">
            <h3>Ce qui est inclus</h3>
            <ul>
              <li><span class="badge">Inclus</span> Modifs simples (texte, images, réglages) dans la limite du plan</li>
              <li><span class="badge">Inclus</span Correctifs thème reproduisibles (hors conflits apps)</li>
              <li><span class="badge">Inclus</span Sprints CRO (Growth/Scale) sur 1 zone à la fois</li>
              <li><span class="badge">Inclus</span Blocs confiance (avis, FAQ, badges, réassurance)</li>
            </ul>
          </div>

          <div class="panel">
            <h3>Ce qui sort du cadre</h3>
            <ul>
              <li><span class="badge">Hors</span> Dev lourd (logique custom, intégrations complexes, scripts avancés)</li>
              <li><span class="badge">Hors</span> Conflits d'applications tierces (diagnostic possible, correction via pack)</li>
              <li><span class="badge">Hors</span> Nouvelles pages complexes, multi-templates, refontes totales</li>
              <li><span class="badge">Hors</span> Garanties de hausse de CA (obligation de moyens, process CRO)</li>
            </ul>
          </div>
        </div>

        <div class="callout">
          <strong>SLA</strong>: délais indiqués en jours ouvrés (lun-ven), 9h-18h (heure de Paris). Les urgences sont traitées selon le plan, et selon la disponibilité réelle.
        </div>
      </section>

      <section class="section" id="process">
        <h2>Process simple (comment ça se passe)</h2>
        <p class="lead">On évite les messages dans tous les sens. Un canal unique, un backlog, et un rythme mensuel.</p>

        <div class="timeline">
          <div class="step"><b>1) Onboarding</b><span>Accès Shopify, apps clés, objectifs, priorités.</span></div>
          <div class="step"><b>2) Backlog</b><span>Demandes regroupées, tri par impact (conversion, confiance, friction).</span></div>
          <div class="step"><b>3) Sprint</b><span>Mise en place des actions prévues pour le mois.</span></div>
          <div class="step"><b>4) Reporting</b><span>Mini bilan + prochaines priorités (Growth/Scale).</span></div>
        </div>
      </section>

      <!-- Packs -->
      <section class="section" id="packs">
        <h2>Besoins ponctuels ? Packs hors forfait.</h2>
        <p class="lead">Pour tout ce qui dépasse le cadre des abonnements ou une période de grosse charge (soldes, drops).</p>

        <div class="packs">
          <div class="pack">
            <b>Pack 2h</b>
            <div class="price"><div class="value">220€</div><div class="period">one-shot</div></div>
          </div>
          <div class="pack">
            <b>Pack 5h</b>
            <div class="price"><div class="value">499€</div><div class="period">one-shot</div></div>
          </div>
          <div class="pack">
            <b>Pack 10h</b>
            <div class="price"><div class="value">949€</div><div class="period">one-shot</div></div>
          </div>
        </div>

        <div class="callout">
          <strong>Important</strong>: un pack d'heures est utilisé pour les demandes lourdes (pages complètes avancées, logique custom, conflits apps, intégrations). Tu sais où tu vas, pas de flou.
        </div>
      </section>

      <!-- FAQ -->
      <section class="section" id="faq">
        <h2>FAQ</h2>
        <p class="lead">Les questions qui reviennent, et les réponses sans langue de bois.</p>

        <div class="faq">
          <details>
            <summary>Et si j'ai 10 demandes d'un coup ? <svg class="caret" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg></summary>
            <div class="details-body">
              On regroupe, on priorise, et on exécute selon le plan (crédits). Si c'est trop pour le mois, soit on décale, soit on bascule une partie sur un pack d'heures.
            </div>
          </details>

          <details>
            <summary>Est-ce que vous garantissez une hausse de CA ? <svg class="caret" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg></summary>
            <div class="details-body">
              Non. L'approche est orientée conversion (CRO), mais on est sur une obligation de moyens. Tu obtiens un process, des actions, et un suivi clair.
            </div>
          </details>

          <details>
            <summary>Qu'est-ce qu'une "modification simple" ? <svg class="caret" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg></summary>
            <div class="details-body">
              Une tâche courte (10-15 min): texte, image, réglage, micro-alignement. Tout ce qui demande dev custom, nouvelles logiques, ou refonte devient hors cadre (pack).
            </div>
          </details>

          <details>
            <summary>Mensuel vs annuel: comment ça marche ? <svg class="caret" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg></summary>
            <div class="details-body">
              Mensuel: résiliable fin de période. Annuel: paiement annuel avec 2 mois offerts (soit 10 mois payés). Les conditions exactes sont détaillées dans les CGV.
            </div>
          </details>

          <details>
            <summary>Vous touchez aux apps ? <svg class="caret" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg></summary>
            <div class="details-body">
              Oui pour la configuration simple et les réglages. Si une app casse le thème ou provoque un conflit, on peut diagnostiquer et proposer une correction via pack d'heures.
            </div>
          </details>
        </div>
      </section>

      <!-- Contact -->
      <section class="section" id="contact">
        <h2>Demande de démarrage</h2>
        <p class="lead">Tu remplis, je reviens vers toi avec un plan d'action rapide (et si Scale, une validation de fit).</p>

        <div class="contact">
          <form class="form" id="contact-form">
            <div class="field">
              <label for="name">Nom</label>
              <input id="name" name="name" type="text" placeholder="Ton nom" required>
            </div>

            <div class="field">
              <label for="email">Email</label>
              <input id="email" name="email" type="email" placeholder="contact@..." required>
            </div>

            <div class="field">
              <label for="store">URL boutique</label>
              <input id="store" name="store" type="url" placeholder="https://..." required>
            </div>

            <div class="field">
              <label for="plan">Plan souhaité</label>
              <select id="plan" name="plan" required>
                <option value="" selected disabled>Choisir un plan</option>
                <option value="Essential">Essential</option>
                <option value="Growth">Growth</option>
                <option value="Scale">Scale</option>
              </select>
            </div>

            <div class="field">
              <label for="message">Contexte rapide</label>
              <textarea id="message" name="message" placeholder="Ton objectif principal, blocages actuels, timing..."></textarea>
            </div>

            <button type="submit" class="btn primary">Envoyer la demande</button>
            <div class="note">Ce formulaire ne fait pas un envoi serveur dans ce template. Tu peux le connecter à un outil (Tally, Typeform, Zapier, n8n, etc.).</div>
          </form>

          <div class="contact-card">
            <h3>Contact direct</h3>
            <p>Si tu préfères, tu peux envoyer un email avec: URL boutique, plan, objectif, et priorité du mois.</p>
            <div class="lines">
              <div class="line"><b>Email</b>: <a href="mailto:contact@lyvora.agency">contact@lyvora.agency</a></div>
              <div class="line"><b>Horaires</b>: lun-ven, 9h-18h (heure de Paris)</div>
              <div class="line"><b>Site</b>: <a href="https://www.lyvora.agency" target="_blank" rel="noopener">www.lyvora.agency</a></div>
            </div>

            <div class="callout">
              <strong>Note</strong>: si ta boutique est très "rush" (drops fréquents), Scale est plus adapté. Sinon Growth suffit dans 80% des cas.
            </div>
          </div>
        </div>
      </section>

    </main>

    <footer class="footer">
      <div>© 2026 Lyvora Agency - Tous droits réservés</div>
      <div class="legal-links">
        <a href="#" id="open-mentions">Mentions légales</a>
        <span>|</span>
        <a href="#" id="open-cgv">CGV abonnements</a>
      </div>
    </footer>

  </div>

  <!-- Modals -->
  <div class="modal" id="modal-mentions" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Mentions légales">
    <div class="modal-content" tabindex="-1">
      <button class="modal-close" type="button" aria-label="Fermer la modale" data-close>&times;</button>
      <h2>Mentions légales</h2>

      <h3>1) Éditeur du site</h3>
      <p>
        <strong>Lyvora Agency</strong><br>
        Entreprise Individuelle<br>
        Prestations de services numériques (Shopify, UX/UI, CRO, optimisation, consulting)<br>
        SIRET: 931 112 510 00017<br>
        Adresse: Rue de Bihucourt, 62121 Béhagnies<br>
        Contact: contact@lyvora.agency
      </p>

      <h3>2) Hébergement</h3>
      <p>Shopify Inc., 151 O'Connor Street, Ground floor, Ottawa, Ontario K2P 2L8, Canada.</p>

      <h3>3) Propriété intellectuelle</h3>
      <p>Les éléments (textes, visuels, structure, code) sont protégés. Toute reproduction non autorisée est interdite.</p>

      <h3>4) Données personnelles</h3>
      <p>Les données collectées servent à traiter les demandes. Droit d'accès, rectification, suppression: contact@lyvora.agency.</p>

      <h3>5) Cookies</h3>
      <p>Le site peut utiliser des cookies nécessaires et, selon configuration, des cookies d'audience. Un bandeau de consentement est requis si des cookies non essentiels sont utilisés.</p>
    </div>
  </div>

  <div class="modal" id="modal-cgv" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Conditions générales de vente - Abonnements">
    <div class="modal-content" tabindex="-1">
      <button class="modal-close" type="button" aria-label="Fermer la modale" data-close>&times;</button>
      <h2>CGV - Abonnements (template)</h2>
      <p><strong>Dernière mise à jour</strong>: 2026</p>

      <div class="callout">
        <strong>Important</strong>: ce texte est un template opérationnel. Fais valider par un professionnel du droit avant mise en production.
      </div>

      <h3>1) Objet</h3>
      <p>Les présentes CGV encadrent les abonnements Lyvora (Essential, Growth, Scale) portant sur maintenance, optimisations, et accompagnement Shopify selon le plan choisi.</p>

      <h3>2) Périmètre</h3>
      <p>Chaque plan inclut un périmètre défini (crédits, SLA, livrables). Les demandes hors périmètre (dev lourd, conflits apps, pages complexes) font l'objet d'un pack d'heures ou d'un devis.</p>

      <h3>3) Modalités de demande</h3>
      <p>Le client transmet ses demandes via le canal/formulaire unique défini. Les demandes sont regroupées et priorisées selon impact et capacité mensuelle.</p>

      <h3>4) SLA</h3>
      <p>Les délais de réponse sont exprimés en jours ouvrés (lun-ven), sur la plage 9h-18h (heure de Paris). Les délais d'exécution dépendent de la complexité et du backlog.</p>

      <h3>5) Prix et facturation</h3>
      <p>Les prix sont indiqués en EUR hors TVA (TVA non applicable, art. 293 B du CGI) sauf mention contraire. La facturation est mensuelle ou annuelle selon choix du client.</p>

      <h3>6) Renouvellement et résiliation</h3>
      <ul style="margin-left: 18px; margin-top: 8px; display: grid; gap: 6px;">
        <li><strong>Mensuel</strong>: renouvellement automatique. Résiliation à effet fin de période en cours.</li>
        <li><strong>Annuel</strong>: paiement annuel. La période d'engagement est de 12 mois.</li>
      </ul>

      <h3>7) Obligations du client</h3>
      <p>Le client fournit les accès nécessaires (Shopify, apps, analytics) et les contenus (textes, visuels) dans des délais raisonnables. Tout retard peut décaler les livraisons.</p>

      <h3>8) Responsabilité</h3>
      <p>Lyvora est tenue à une obligation de moyens. La responsabilité ne peut être engagée pour des dommages indirects, pertes de CA, indisponibilité Shopify, ou interventions tierces.</p>

      <h3>9) Propriété intellectuelle</h3>
      <p>Les développements et éléments produits sont transférés au client après paiement des sommes dues. Les méthodes, frameworks, composants internes peuvent rester propriété de Lyvora.</p>

      <h3>10) Litiges</h3>
      <p>Droit français applicable. Compétence des tribunaux du ressort du siège de Lyvora Agency après tentative de résolution amiable.</p>
    </div>
  </div>

  <script>
    (function () {
      // Billing toggle
      const toggle = document.getElementById('billing-toggle');
      const billingInfo = document.getElementById('billing-info');
      const monthlyLabel = document.getElementById('label-monthly');
      const annualLabel = document.getElementById('label-annual');
      const priceValues = document.querySelectorAll('.price .value');
      const periods = document.querySelectorAll('.price .period');
      const equivEls = document.querySelectorAll('[data-equivalent]');

      function formatEuro(n) {
        // integer formatting (simple)
        return String(n).replace(/\B(?=(\d{3})+(?!\d))/g, " ");
      }

      function setLabels(isAnnual) {
        monthlyLabel.classList.toggle('active', !isAnnual);
        annualLabel.classList.toggle('active', isAnnual);
        monthlyLabel.setAttribute('aria-pressed', String(!isAnnual));
        annualLabel.setAttribute('aria-pressed', String(isAnnual));
      }

      function updatePrices(isAnnual) {
        setLabels(isAnnual);

        billingInfo.textContent = isAnnual
          ? "Facturation annuelle (2 mois offerts). Engagement 12 mois"
          : "Facturation mensuelle, résiliable fin de période";

        priceValues.forEach((el) => {
          const raw = isAnnual ? el.getAttribute('data-annual') : el.getAttribute('data-monthly');
          el.textContent = formatEuro(raw) + "€";
        });

        periods.forEach((p) => {
          p.textContent = isAnnual ? "/an" : "/mois";
        });

        equivEls.forEach((eq, idx) => {
          const el = priceValues[idx];
          const annual = Number(el.getAttribute('data-annual'));
          const monthly = Number(el.getAttribute('data-monthly'));

          if (isAnnual) {
            // annual price is 10x monthly (2 months off)
            const equiv = Math.round((annual / 12) * 100) / 100;
            eq.textContent = "Equivalent env. " + String(equiv).replace(".", ",") + "€ /mois (sur 12 mois)";
          } else {
            eq.textContent = "";
          }
        });
      }

      // clickable labels
      monthlyLabel.addEventListener('click', () => { toggle.checked = false; updatePrices(false); });
      annualLabel.addEventListener('click', () => { toggle.checked = true; updatePrices(true); });
      monthlyLabel.addEventListener('keydown', (e) => { if (e.key === "Enter" || e.key === " ") { e.preventDefault(); toggle.checked = false; updatePrices(false);} });
      annualLabel.addEventListener('keydown', (e) => { if (e.key === "Enter" || e.key === " ") { e.preventDefault(); toggle.checked = true; updatePrices(true);} });

      toggle.addEventListener('change', function () {
        updatePrices(this.checked);
      });

      // Init default
      updatePrices(false);

      // CTA prefill plan
      const planSelect = document.getElementById('plan');
      document.querySelectorAll('[data-plan]').forEach((btn) => {
        btn.addEventListener('click', () => {
          const plan = btn.getAttribute('data-plan');
          planSelect.value = plan;
        });
      });

      // Contact form (demo)
      const form = document.getElementById('contact-form');
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        alert("Demande prête. Connecte ce formulaire à un outil (Tally/Typeform/n8n) pour l'envoi.");
      });

      // Modals with focus trap + ESC
      const body = document.body;
      const openMentions = document.getElementById('open-mentions');
      const openCgv = document.getElementById('open-cgv');
      const modalMentions = document.getElementById('modal-mentions');
      const modalCgv = document.getElementById('modal-cgv');

      let lastFocus = null;

      function getFocusable(container) {
        return Array.from(container.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])'));
      }

      function trapFocus(modal) {
        const content = modal.querySelector('.modal-content');
        const focusables = getFocusable(content);
        if (!focusables.length) return;

        function handleKey(e) {
          if (e.key === "Escape") closeModal(modal);
          if (e.key !== "Tab") return;

          const first = focusables[0];
          const last = focusables[focusables.length - 1];

          if (e.shiftKey && document.activeElement === first) {
            e.preventDefault();
            last.focus();
          } else if (!e.shiftKey && document.activeElement === last) {
            e.preventDefault();
            first.focus();
          }
        }

        modal._trapHandler = handleKey;
        document.addEventListener('keydown', handleKey);
      }

      function untrapFocus(modal) {
        if (modal._trapHandler) {
          document.removeEventListener('keydown', modal._trapHandler);
          modal._trapHandler = null;
        }
      }

      function openModal(modal) {
        lastFocus = document.activeElement;
        modal.setAttribute('aria-hidden', 'false');
        body.style.overflow = 'hidden';

        const content = modal.querySelector('.modal-content');
        content.focus();

        trapFocus(modal);
      }

      function closeModal(modal) {
        modal.setAttribute('aria-hidden', 'true');
        body.style.overflow = '';
        untrapFocus(modal);

        if (lastFocus && typeof lastFocus.focus === "function") lastFocus.focus();
      }

      // open links
      openMentions.addEventListener('click', (e) => { e.preventDefault(); openModal(modalMentions); });
      openCgv.addEventListener('click', (e) => { e.preventDefault(); openModal(modalCgv); });

      // close buttons and backdrop
      [modalMentions, modalCgv].forEach((modal) => {
        modal.addEventListener('click', (e) => {
          if (e.target === modal) closeModal(modal);
        });
        modal.querySelectorAll('[data-close]').forEach((btn) => {
          btn.addEventListener('click', () => closeModal(modal));
        });
      });
    })();
  </script>
</body>
</html>
